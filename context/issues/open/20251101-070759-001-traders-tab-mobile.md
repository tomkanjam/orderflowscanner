# Implement Traders Tab for Mobile

**Type:** feature
**Initiative:** end-to-end-trader-workflow
**Created:** 2025-11-01 07:07:59

## Context

Traders need an easy way to discover, enable/disable, and manage their trading signal providers on mobile. The desktop sidebar shows all traders but it's too cramped for mobile. We need a dedicated Traders tab with a card-based grid layout optimized for touch.

**User story:**
> "As a mobile trader, I want to quickly browse available signal providers, see their performance, and enable the ones I trust - all with my thumb."

**Current state:**
- Traders tab exists in navigation (shows placeholder)
- Desktop has full trader list in sidebar
- Need to adapt for mobile with better UX

## Linked Items
- Part of: `context/issues/open/20251101-070759-000-PROJECT-mobile-ux-excellence.md`
- Initiative: end-to-end-trader-workflow

## Progress

(Track progress here)

## Spec

### Layout: Card Grid

**Grid Structure:**
```tsx
<div className="h-full overflow-y-auto p-4">
  {/* Filter/Search Bar */}
  <div className="sticky top-0 bg-background pb-3 z-10">
    <input
      type="text"
      placeholder="Search traders..."
      className="w-full"
    />
    <div className="flex gap-2 mt-2">
      <FilterChip active>All</FilterChip>
      <FilterChip>Built-in</FilterChip>
      <FilterChip>Personal</FilterChip>
      <FilterChip>Favorites</FilterChip>
    </div>
  </div>

  {/* Trader Cards */}
  <div className="grid grid-cols-1 gap-3">
    {traders.map(trader => (
      <TraderCardMobile key={trader.id} trader={trader} />
    ))}
  </div>
</div>
```

### TraderCardMobile Component

**Card Design (Compact):**
```tsx
<div className="bg-card border rounded-lg p-3 active:scale-[0.98] transition-transform">
  {/* Header Row */}
  <div className="flex items-center justify-between mb-2">
    <div className="flex items-center gap-2">
      <div className="w-8 h-8 rounded-full bg-accent flex items-center justify-center">
        {/* Icon or initial */}
        <TrendingUp className="w-4 h-4" />
      </div>
      <div>
        <h3 className="font-semibold text-sm">{trader.name}</h3>
        <p className="text-xs text-muted-foreground">{trader.category}</p>
      </div>
    </div>

    {/* Enable/Disable Toggle */}
    <Switch
      checked={trader.enabled}
      onCheckedChange={() => toggleTrader(trader.id)}
      className="ml-2"
    />
  </div>

  {/* Description */}
  <p className="text-xs text-muted-foreground line-clamp-2 mb-2">
    {trader.description}
  </p>

  {/* Performance Metrics */}
  <div className="flex gap-3 text-xs">
    <div className="flex items-center gap-1">
      <Activity className="w-3 h-3 text-muted-foreground" />
      <span>{trader.signalCount} signals</span>
    </div>
    <div className="flex items-center gap-1">
      <TrendingUp className="w-3 h-3 text-green-500" />
      <span className="text-green-500">+{trader.winRate}%</span>
    </div>
  </div>

  {/* Favorite Star (top right corner) */}
  <button
    className="absolute top-2 right-2"
    onClick={() => toggleFavorite(trader.id)}
  >
    <Star className={trader.isFavorite ? "fill-yellow-500" : ""} />
  </button>
</div>
```

### Features

**1. Quick Actions**
- Toggle enable/disable (big switch, easy to tap)
- Favorite/unfavorite (star icon)
- Tap card to view details/settings

**2. Filtering**
- Search by name/description
- Filter by category: All, Built-in, Personal, Favorites
- Filter by status: Enabled, Disabled

**3. Sorting**
- Default: Enabled first, then by name
- Options: Performance, Signal count, Recently added

**4. Performance Indicators**
- Active signal count
- Win rate percentage
- Recent P&L (if available)
- Visual indicators (green/red)

### Touch Optimizations

**Tap Targets:**
- Card: 72px minimum height
- Toggle switch: 48x28px
- Favorite star: 44x44px tap area
- Filter chips: 36px height

**Gestures:**
- Tap card → Open trader details/settings
- Tap toggle → Enable/disable trader
- Tap star → Add/remove from favorites
- Pull-to-refresh → Reload trader data

**Visual Feedback:**
- Active state: Scale down to 98%
- Toggle animation: Smooth slide
- Loading states: Skeleton cards

### Data Source

Pull from existing `traderManager`:
```tsx
const { traders } = useTraders(); // From context or hook
const enabledTraders = traders.filter(t => t.enabled);
const builtInTraders = traders.filter(t => !t.isUserCreated);
const personalTraders = traders.filter(t => t.isUserCreated);
const favoriteTraders = traders.filter(t => t.isFavorite);
```

### Implementation Files

**New Files:**
```
apps/app/src/components/mobile/
├── TraderCardMobile.tsx       (card component)
└── TradersTabMobile.tsx       (tab container with grid)
```

**Modified Files:**
```
apps/app/components/MainContent.tsx  (render TradersTabMobile)
```

### Acceptance Criteria

- [ ] Grid displays all traders with key info
- [ ] Enable/disable toggle works smoothly
- [ ] Search filters traders by name/description
- [ ] Category filters work (All, Built-in, Personal, Favorites)
- [ ] Tap card opens trader settings/details
- [ ] Favorite star works and persists
- [ ] Smooth animations (60fps)
- [ ] Works on 375px width (iPhone SE)
- [ ] Pull-to-refresh reloads data

### Testing Checklist

**Functional:**
- [ ] Enable trader → appears in Activity tab signals
- [ ] Disable trader → signals stop appearing
- [ ] Search updates grid in real-time
- [ ] Filters combine correctly (search + category)
- [ ] Favorite persists across sessions

**UX:**
- [ ] All tap targets ≥ 44px
- [ ] Animations smooth (no jank)
- [ ] Loading states show properly
- [ ] No horizontal scroll
- [ ] Text readable at all sizes

**Edge Cases:**
- [ ] Zero traders (empty state)
- [ ] One trader (grid still looks good)
- [ ] 100+ traders (performance OK)
- [ ] Long names (ellipsis works)
- [ ] No network (cached data shows)

## Notes

- Reuse existing trader data structures
- Match Activity tab's clean aesthetic
- Consider adding "Sort by" dropdown later
- May need trader detail modal/page for advanced settings
