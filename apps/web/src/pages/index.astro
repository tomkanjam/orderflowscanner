---
import Layout from '../layouts/Layout.astro';
import WaitlistForm from '../components/WaitlistForm.tsx';
import SignalBuilder from '../components/SignalBuilder.tsx';
import { getWaitlistCount } from '../lib/supabase';

// Get waitlist count at build time
const waitlistCount = await getWaitlistCount();
---

<Layout title="TradeMind AI - AI-Powered Crypto Trading Signals">
  <main>
    <!-- Hero Section -->
    <section class="min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-[var(--background)] to-[#0a0a0f]">
      <div class="max-w-4xl mx-auto text-center">
        <div class="inline-flex items-center gap-2 px-3 py-1 mb-6 text-sm bg-[var(--accent-blue)]/10 text-[var(--accent-blue)] rounded-full">
          <span class="relative flex h-2 w-2">
            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[var(--accent-blue)] opacity-75"></span>
            <span class="relative inline-flex rounded-full h-2 w-2 bg-[var(--accent-blue)]"></span>
          </span>
          {waitlistCount > 0 && `${waitlistCount}+ traders already signed up`}
        </div>
        
        <h1 class="tm-heading-xl mb-6">
          Turn Your Trading Ideas Into
          <span class="text-gradient">Automated Crypto Signals</span>
        </h1>
        
        <p class="tm-body-lg text-[var(--text-secondary)] mb-8 max-w-2xl mx-auto">
          Describe your strategy in plain English. Our AI creates the signals. You catch the trades.
        </p>
        
        <div class="mb-12">
          <SignalBuilder client:visible />
        </div>
        
        <div class="flex flex-wrap justify-center gap-4 text-sm text-[var(--text-secondary)]">
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span>Launching January 2025</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span>50% off Elite tier for early adopters</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-20 px-4 sm:px-6 lg:px-8">
      <div class="max-w-6xl mx-auto">
        <h2 class="tm-heading-lg text-center mb-4">
          Trading Made Simple
        </h2>
        <p class="tm-body-lg text-[var(--text-secondary)] text-center mb-12 max-w-2xl mx-auto">
          No more complex indicators or coding. Just describe what you want to find.
        </p>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
          <!-- Feature 1 -->
          <div class="p-6 rounded-lg bg-[var(--surface-secondary)] border border-[var(--border-primary)]">
            <div class="w-12 h-12 rounded-lg bg-[var(--accent-blue)]/10 flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-[var(--accent-blue)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
              </svg>
            </div>
            <h3 class="tm-heading-sm mb-2">Natural Language</h3>
            <p class="tm-body-sm text-[var(--text-secondary)]">
              "Find coins with RSI above 70" or "Show me MACD crossovers"
            </p>
          </div>
          
          <!-- Feature 2 -->
          <div class="p-6 rounded-lg bg-[var(--surface-secondary)] border border-[var(--border-primary)]">
            <div class="w-12 h-12 rounded-lg bg-[var(--accent-green)]/10 flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-[var(--accent-green)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <h3 class="tm-heading-sm mb-2">Real-Time Signals</h3>
            <p class="tm-body-sm text-[var(--text-secondary)]">
              Live alerts when your conditions are met across 100+ pairs
            </p>
          </div>
          
          <!-- Feature 3 -->
          <div class="p-6 rounded-lg bg-[var(--surface-secondary)] border border-[var(--border-primary)]">
            <div class="w-12 h-12 rounded-lg bg-[var(--accent-purple)]/10 flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-[var(--accent-purple)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
              </svg>
            </div>
            <h3 class="tm-heading-sm mb-2">100+ Binance Pairs</h3>
            <p class="tm-body-sm text-[var(--text-secondary)]">
              Top volume USDT pairs with real-time data updates
            </p>
          </div>
          
          <!-- Feature 4 -->
          <div class="p-6 rounded-lg bg-[var(--surface-secondary)] border border-[var(--border-primary)]">
            <div class="w-12 h-12 rounded-lg bg-[var(--accent-orange)]/10 flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-[var(--accent-orange)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
              </svg>
            </div>
            <h3 class="tm-heading-sm mb-2">AI Analysis</h3>
            <p class="tm-body-sm text-[var(--text-secondary)]">
              Smart insights and predictions powered by Gemini AI
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Demo Section -->
    <section class="py-20 px-4 sm:px-6 lg:px-8 bg-[var(--surface-secondary)]">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="tm-heading-lg mb-4">How It Works</h2>
        <p class="tm-body-lg text-[var(--text-secondary)] mb-8">
          Try the signal builder above to see how easy it is to create custom trading alerts
        </p>
        
        <div class="grid md:grid-cols-3 gap-6 text-left">
          <div class="p-6 rounded-lg bg-[var(--surface-primary)] border border-[var(--border-primary)]">
            <div class="w-12 h-12 rounded-full bg-[var(--accent-blue)]/10 flex items-center justify-center mb-4">
              <span class="text-2xl">‚úçÔ∏è</span>
            </div>
            <h3 class="tm-heading-sm mb-2">1. Describe Your Strategy</h3>
            <p class="tm-body-sm text-[var(--text-secondary)]">
              Use plain English to describe your ideal trading conditions
            </p>
          </div>
          
          <div class="p-6 rounded-lg bg-[var(--surface-primary)] border border-[var(--border-primary)]">
            <div class="w-12 h-12 rounded-full bg-[var(--accent-green)]/10 flex items-center justify-center mb-4">
              <span class="text-2xl">ü§ñ</span>
            </div>
            <h3 class="tm-heading-sm mb-2">2. AI Builds Your Signal</h3>
            <p class="tm-body-sm text-[var(--text-secondary)]">
              Our AI converts your description into precise trading conditions
            </p>
          </div>
          
          <div class="p-6 rounded-lg bg-[var(--surface-primary)] border border-[var(--border-primary)]">
            <div class="w-12 h-12 rounded-full bg-[var(--accent-purple)]/10 flex items-center justify-center mb-4">
              <span class="text-2xl">üîî</span>
            </div>
            <h3 class="tm-heading-sm mb-2">3. Get Real-Time Alerts</h3>
            <p class="tm-body-sm text-[var(--text-secondary)]">
              Receive notifications when your conditions are met across 100+ pairs
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Early Access Section -->
    <section class="py-20 px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="tm-heading-lg mb-4">Early Access Benefits</h2>
        <div class="grid md:grid-cols-3 gap-6 mb-12">
          <div class="p-6 rounded-lg bg-gradient-to-b from-[var(--surface-secondary)] to-transparent border border-[var(--border-primary)]">
            <div class="tm-heading-md text-[var(--accent-blue)] mb-2">50% OFF</div>
            <p class="tm-body-sm text-[var(--text-secondary)]">Elite tier for 6 months</p>
          </div>
          <div class="p-6 rounded-lg bg-gradient-to-b from-[var(--surface-secondary)] to-transparent border border-[var(--border-primary)]">
            <div class="tm-heading-md text-[var(--accent-green)] mb-2">Priority Access</div>
            <p class="tm-body-sm text-[var(--text-secondary)]">First to try new features</p>
          </div>
          <div class="p-6 rounded-lg bg-gradient-to-b from-[var(--surface-secondary)] to-transparent border border-[var(--border-primary)]">
            <div class="tm-heading-md text-[var(--accent-purple)] mb-2">Shape the Future</div>
            <p class="tm-body-sm text-[var(--text-secondary)]">Direct input on features</p>
          </div>
        </div>
        
        <p class="text-[var(--text-secondary)] mb-6">
          Haven't built a signal yet? Join the waitlist to be notified when we launch.
        </p>
        
        <WaitlistForm client:visible />
      </div>
    </section>
  </main>

  <style>
    .text-gradient {
      background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-purple) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  </style>
</Layout>
