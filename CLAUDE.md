# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is an AI-powered cryptocurrency screener for Binance Spot markets that allows users to describe technical trading conditions in natural language. The application uses LLM models to convert natural language into executable screening filters and visualizes results with real-time charts. Filters can be based on any standard or fully custom metric or indicator that can be calculated from Binance kline data. Top-tier users get access to fully automated AI trading with the use of LLM APIs.

The app is not yet in production. There are no produciton users but we want to launch in a week.

## Current initiative
### End-to-end trader workflow implementation
1. Create trader
2. Correct, performant filter code is created
3. Signals are generated by filter code
4. Signal creation triggers AI analysis


## Development Environment
Use pnpm
Use only production supabase and production fly environments. No local stuff!

## Tier Access Rules
- **Anonymous**: View basic signals, charts, real-time triggers only
- **Free**: + More signals, history, favorites (NO custom signals)
- **Pro**: + Create up to 10 custom signals, notifications
- **Elite**: + Unlimited signals, AI analysis/monitoring/trading


## GitHub Workflow

**All work tracked in GitHub issues. Use `gh` CLI for everything.**

- Make sure to use the https://github.com/tomkanjam account.
- Do all work on main branch unless instructed to do otherwise.
- Do frequent commits to keep the history clean and push often.
-

### Creating Issues
```bash
gh issue create --title "[Title]" --label "[type]" --body "[Context]"
```
- Always create issue before starting work
- Link to projects: "Part of #X" in body
- Link to initiatives: Add label `initiative:name` (see Current Initiatives below)

### Implementation Flow
1. **Spec**: Add comment with approach (15-25 lines)
2. **Build**: Implement, test, commit as you go
3. **Update**: Edit progress comment (don't spam):
   ```bash
   gh api repos/:owner/:repo/issues/comments/[id] -X PATCH -f body="[updated status]"
   ```
4. **PR**: When done:
   ```bash
   gh pr create --title "feat: X" --body "Closes #123"
   ```

### Key Principles
- **One progress comment** - Edit it, don't create new ones
- **Link everything** - Projects (#X), initiatives (labels), vision (mention in body)
- **Autonomous** - Spec → Build → Test → PR without asking
- **Update frequently** - After each phase, edit progress comment
- **Ask only when blocked** - Otherwise keep moving

### Quick Fixes
Small bugs/typos don't need initiative linking. Just:
```bash
gh issue create --title "Fix X" --label "bug"
# Fix it, PR it, done
```

## Remember:

- Check alignment before creating issues (does this serve vision/initiatives?).
- For large work, create [PROJECT] parent issue with sub-issues.
- Edit progress comments instead of creating many comments.
- Link PRs to issues with "Closes #X".
- Update issue labels as work progresses.
- Don't leave projects or issues open. Ask the user if the issue or project can be closed if work starts on something else.


## Critical tasks

- When creating an issue or project, write out which critical tasks it will be required to complete it(in the correct order): Design / Performance Optimization / Architecture / Topic Research /  Documentation Lookup / critical rish mitigation / etc
- Critical tasks may need their own issues.
- Make sure to actually complete each of these critical tasks.
